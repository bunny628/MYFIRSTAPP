<div class="container mt-5 ">

    <div class="row mb-2">
        <h2>Users</h2>
      </div>
  <div class="row mb-2 d-flex justify-content-between">
    <div class="col-3 p-0">
      <input
        class="form-control mr-sm-2"
        type="text"
        placeholder="Search"
        [(ngModel)]="searchText"
        (change)="onSearch()"
      >
    </div>
        <button  (click)= "onUpdate()" class="btn btn-outline-warning text-dark">Create New User</button>
    </div>
    <br />
    <div class="row shadow-lg p-3 mb-1 bg-white rounded">
      <span *ngIf="filteredData.length === 0">No result</span>
      <table class="table table-hover " *ngIf="filteredData.length > 0">
        <thead class="thead-dark">
          <tr>
            <td>#</td>
            <td>First Name</td>
            <td>Last Name</td>
            <td>Occupation</td>
            <td></td>
            <td>Options</td>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of filteredData">
            <td>{{ user.id }}</td>
            <td>{{ user.firstName }}</td>
            <td>{{ user.lastName }}</td>
            <td>{{ user.occupation }}</td>
            <td>
              <a routerLink="/todos">View Todos</a>
            </td>
            <td>
              <a (click)="onUpdate(user)" class="btn btn-outline-success"
                >Update</a
              >
              &nbsp;
              <a (click)="onDelete(user)" class="btn btn-outline-danger"
                >Delete</a
              >
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td class="p-2" colspan="6">
              <div>
                <ngb-pagination
                  [(page)]="page"
                  [pageSize]="pageSize"
                  [collectionSize]="itemLength"
                  (pageChange) = "pageChange($event)"
                ></ngb-pagination>
              </div>
              <!-- Showing {{ filteredData.length }} results of {{ userData.length }}. -->
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
